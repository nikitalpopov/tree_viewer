<h1>Tree viewer</h1>

<div class="tree-viewer">
    <a class="btn btn-sm" ng-click="node = !node">hide</a>
    <ul class="list-group" ng-hide="node">
        <li class="list-group-item" ng-repeat="data in $ctrl.tree" ng-include="'tree_item_renderer.html'"></li>
    </ul>

    <script type="text/ng-template"  id="tree_item_renderer.html">
        {{data.text}}
        <a class="btn btn-sm" ng-click="node = !node" ng-show="data.children.length > 0">hide</a>
        <ul class="list-group" ng-hide="node" ng-if="data.children.length > 0">
            <li class="list-group-item" ng-repeat="data in data.children" ng-include="'tree_item_renderer.html'"></li>
        </ul>
    </script>

    <pre>{{$ctrl.tree | json}}</pre>
</div>